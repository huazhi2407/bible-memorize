# éƒ¨ç½²å®Œæˆå¾Œçš„æ­¥é©Ÿ

## âœ… éƒ¨ç½²å®Œæˆç¢ºèª

å¦‚æœ Render é¡¯ç¤ºæœå‹™ç‹€æ…‹ç‚ºã€Œ**Live**ã€ï¼Œè¡¨ç¤ºéƒ¨ç½²æˆåŠŸï¼

## ğŸ§ª æ­¥é©Ÿ 1ï¼šæ¸¬è©¦å¾Œç«¯ API

### 1.1 æª¢æŸ¥æœå‹™ç‹€æ…‹

1. åœ¨ Render Dashboardï¼Œç¢ºèªæœå‹™ç‹€æ…‹ç‚ºã€Œ**Live**ã€
2. è¨˜ä¸‹æœå‹™ URLï¼Œä¾‹å¦‚ï¼š`https://bible-memorize-firebase.onrender.com`

### 1.2 æ¸¬è©¦å¥åº·æª¢æŸ¥

åœ¨ç€è¦½å™¨è¨ªå•æœå‹™ URLï¼Œæ‡‰è©²çœ‹åˆ°æœå‹™é‹è¡Œä¸­çš„æç¤ºã€‚

### 1.3 æ¸¬è©¦ API ç«¯é»

```bash
# æ¸¬è©¦ç™»å…¥ API
curl -X POST https://your-service-url.onrender.com/api/auth/login \
  -H "Content-Type: application/json" \
  -d "{\"name\":\"admin\",\"password\":\"admin123\"}"
```

æ‡‰è©²è¿”å›ç”¨æˆ¶ä¿¡æ¯å’Œ tokenã€‚

### 1.4 æª¢æŸ¥æ—¥èªŒ

åœ¨ Render Dashboard â†’ Logsï¼Œç¢ºèªï¼š
- âœ… æ²’æœ‰éŒ¯èª¤è¨Šæ¯
- âœ… çœ‹åˆ° "Server running at http://localhost:10000"
- âœ… çœ‹åˆ° "Firebase Admin SDK åˆå§‹åŒ–æˆåŠŸ"

## ğŸŒ æ­¥é©Ÿ 2ï¼šæ›´æ–°å‰ç«¯é…ç½®

### 2.1 åœ¨ Vercel è¨­ç½®ç’°å¢ƒè®Šé‡

1. **å‰å¾€ Vercel Dashboard**ï¼šhttps://vercel.com/dashboard
2. **é¸æ“‡æ‚¨çš„é …ç›®**
3. **Settings** â†’ **Environment Variables**
4. **æ·»åŠ ç’°å¢ƒè®Šé‡**ï¼š
   - **Key**: `VITE_API_BASE`
   - **Value**: `https://your-render-url.onrender.com`ï¼ˆæ‚¨çš„ Render å¾Œç«¯ URLï¼‰
   - **Environment**: Production, Preview, Developmentï¼ˆå…¨éƒ¨å‹¾é¸ï¼‰
5. **Save**

### 2.2 é‡æ–°éƒ¨ç½²å‰ç«¯

#### æ–¹æ³• 1ï¼šé€šé Dashboard

1. åœ¨ Vercel Dashboard â†’ **Deployments**
2. é»æ“Šæœ€æ–°çš„éƒ¨ç½²
3. é»æ“Šã€Œ**Redeploy**ã€
4. ç¢ºèªä½¿ç”¨æœ€æ–°çš„ç’°å¢ƒè®Šé‡
5. é»æ“Šã€Œ**Redeploy**ã€

#### æ–¹æ³• 2ï¼šæ¨é€ä»£ç¢¼ï¼ˆè‡ªå‹•éƒ¨ç½²ï¼‰

```bash
cd c:\Users\jerey\bible-memorize

# å¦‚æœæœ‰æ›´æ”¹ï¼Œæäº¤ä¸¦æ¨é€
git add .
git commit -m "Update API base URL"
git push origin main
```

Vercel æœƒè‡ªå‹•æª¢æ¸¬ä¸¦é‡æ–°éƒ¨ç½²ã€‚

## ğŸ§ª æ­¥é©Ÿ 3ï¼šæ¸¬è©¦å®Œæ•´æµç¨‹

### 3.1 è¨ªå•å‰ç«¯

1. è¨ªå•æ‚¨çš„ Vercel å‰ç«¯ URL
2. ç¢ºèªé é¢æ­£å¸¸åŠ è¼‰

### 3.2 æ¸¬è©¦ç™»å…¥

1. **ç™»å…¥é é¢**ï¼š
   - å¸³è™Ÿï¼š`admin`
   - å¯†ç¢¼ï¼š`admin123`ï¼ˆæˆ–æ‚¨è¨­ç½®çš„ `ADMIN_PASSWORD`ï¼‰

2. **ç¢ºèªç™»å…¥æˆåŠŸ**ï¼šæ‡‰è©²è·³è½‰åˆ°é¦–é 

### 3.3 æ¸¬è©¦åŠŸèƒ½

- [ ] **éŒ„éŸ³åŠŸèƒ½**ï¼šéŒ„è£½ä¸¦ä¸Šå‚³éŸ³é »
- [ ] **æŸ¥çœ‹éŒ„éŸ³**ï¼šæ’­æ”¾å·²ä¸Šå‚³çš„éŒ„éŸ³
- [ ] **ç°½åˆ°åŠŸèƒ½**ï¼šå®Œæˆä»Šæ—¥ç°½åˆ°
- [ ] **æŸ¥çœ‹ç©åˆ†**ï¼šç¢ºèªç©åˆ†é¡¯ç¤ºæ­£ç¢º
- [ ] **ç©åˆ†æ’è¡Œæ¦œ**ï¼šæŸ¥çœ‹æ‰€æœ‰å­¸ç”Ÿçš„ç©åˆ†æ’å
- [ ] **ç®¡ç†å“¡åŠŸèƒ½**ï¼ˆå¦‚æœä»¥ç®¡ç†å“¡ç™»å…¥ï¼‰ï¼š
  - [ ] æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ¶
  - [ ] æŸ¥çœ‹æ‰€æœ‰éŒ„éŸ³
  - [ ] å‰µå»ºç¶“æ–‡è¨ˆåŠƒ
  - [ ] ç¢ºèªå­¸ç”Ÿåˆæ ¼
  - [ ] èª¿æ•´å­¸ç”Ÿç©åˆ†

## ğŸ”’ æ­¥é©Ÿ 4ï¼šå®‰å…¨è¨­ç½®

### 4.1 æ›´æ”¹é è¨­ç®¡ç†å“¡å¯†ç¢¼

1. ä»¥ç®¡ç†å“¡ç™»å…¥
2. å‰µå»ºæ–°çš„ç®¡ç†å“¡å¸³è™Ÿ
3. ä½¿ç”¨æ–°å¸³è™Ÿç™»å…¥
4. åˆªé™¤æˆ–ä¿®æ”¹é è¨­ `admin` å¸³è™Ÿå¯†ç¢¼

### 4.2 è¨­ç½®ç”Ÿç”¢ç’°å¢ƒè¦å‰‡

#### Firestore è¦å‰‡

åœ¨ Firebase Console â†’ Firestore Database â†’ è¦å‰‡ï¼š

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /{document=**} {
      allow read, write: if false;  // æ‹’çµ•æ‰€æœ‰ç›´æ¥è¨ªå•
    }
  }
}
```

é»æ“Šã€Œ**ç™¼å¸ƒ**ã€

#### Storage è¦å‰‡

åœ¨ Firebase Console â†’ Storage â†’ è¦å‰‡ï¼š

```javascript
rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    match /recordings/{allPaths=**} {
      allow read: if true;
      allow write: if false;
    }
    match /{allPaths=**} {
      allow read, write: if false;
    }
  }
}
```

é»æ“Šã€Œ**ç™¼å¸ƒ**ã€

### 4.3 ç¢ºèªç’°å¢ƒè®Šé‡å®‰å…¨

- [ ] `JWT_SECRET` å·²æ›´æ”¹ç‚ºéš¨æ©Ÿå­—ç¬¦ä¸²
- [ ] `ADMIN_PASSWORD` å·²è¨­ç½®ï¼ˆå¯é¸ï¼‰
- [ ] æœå‹™å¸³æˆ¶æ–‡ä»¶æœªæäº¤åˆ° Git

## ğŸ“Š æ­¥é©Ÿ 5ï¼šç›£æ§å’Œç¶­è­·

### 5.1 ç›£æ§ Firebase ä½¿ç”¨é‡

1. **å‰å¾€ Firebase Console**ï¼šhttps://console.firebase.google.com/
2. **ä½¿ç”¨é‡å’Œå¸³å–®**ï¼šç›£æ§
   - Firestore è®€å–/å¯«å…¥æ¬¡æ•¸
   - Storage å­˜å„²ç©ºé–“
   - ç¶²çµ¡å‚³è¼¸é‡

### 5.2 ç›£æ§ Render æœå‹™

1. **Render Dashboard** â†’ æ‚¨çš„æœå‹™
2. **Metrics**ï¼šæŸ¥çœ‹
   - CPU ä½¿ç”¨ç‡
   - å…§å­˜ä½¿ç”¨ç‡
   - è«‹æ±‚æ•¸é‡
   - éŸ¿æ‡‰æ™‚é–“

### 5.3 æŸ¥çœ‹æ—¥èªŒ

- **Render æ—¥èªŒ**ï¼šDashboard â†’ Logs
- **Firebase æ—¥èªŒ**ï¼šConsole â†’ ä½¿ç”¨é‡å’Œå¸³å–® â†’ ä½¿ç”¨é‡
- **Vercel æ—¥èªŒ**ï¼šDashboard â†’ Deployments â†’ æŸ¥çœ‹æ—¥èªŒ

## ğŸ“ æ­¥é©Ÿ 6ï¼šè¨˜éŒ„éƒ¨ç½²ä¿¡æ¯

å‰µå»º `DEPLOYMENT-INFO.md` è¨˜éŒ„ï¼š

```markdown
# éƒ¨ç½²ä¿¡æ¯

## å¾Œç«¯ï¼ˆRenderï¼‰
- URL: https://your-service-url.onrender.com
- éƒ¨ç½²æ—¥æœŸ: [æ—¥æœŸ]
- ç‹€æ…‹: Live

## å‰ç«¯ï¼ˆVercelï¼‰
- URL: https://your-app.vercel.app
- éƒ¨ç½²æ—¥æœŸ: [æ—¥æœŸ]
- ç‹€æ…‹: Live

## Firebase
- é …ç›® ID: [é …ç›® ID]
- Firestore ä½ç½®: [ä½ç½®]
- Storage ä½ç½®: [ä½ç½®]

## ç’°å¢ƒè®Šé‡
- JWT_SECRET: [å·²è¨­ç½®]
- ADMIN_PASSWORD: [å·²è¨­ç½®]
```

## âœ… å®Œæˆæª¢æŸ¥æ¸…å–®

### éƒ¨ç½²
- [ ] Render å¾Œç«¯éƒ¨ç½²æˆåŠŸä¸¦é‹è¡Œ
- [ ] Vercel å‰ç«¯ç’°å¢ƒè®Šé‡å·²æ›´æ–°
- [ ] Vercel å‰ç«¯å·²é‡æ–°éƒ¨ç½²

### æ¸¬è©¦
- [ ] å¾Œç«¯ API æ¸¬è©¦é€šé
- [ ] å‰ç«¯å¯ä»¥é€£æ¥å¾Œç«¯
- [ ] æ‰€æœ‰åŠŸèƒ½æ¸¬è©¦é€šé

### å®‰å…¨
- [ ] é è¨­ç®¡ç†å“¡å¯†ç¢¼å·²æ›´æ”¹
- [ ] Firestore è¦å‰‡è¨­ç½®ç‚ºç”Ÿç”¢æ¨¡å¼
- [ ] Storage è¦å‰‡è¨­ç½®ç‚ºç”Ÿç”¢æ¨¡å¼
- [ ] JWT_SECRET å·²æ›´æ”¹

### ç›£æ§
- [ ] Firebase ä½¿ç”¨é‡ç›£æ§è¨­ç½®
- [ ] Render æœå‹™ç›£æ§è¨­ç½®
- [ ] æ—¥èªŒæŸ¥çœ‹è¨­ç½®

## ğŸ‰ æ­å–œï¼

æ‚¨çš„æ‡‰ç”¨å·²ç¶“å®Œå…¨éƒ¨ç½²ä¸¦é‹è¡Œï¼

### ç¾åœ¨å¯ä»¥ï¼š

1. **é–‹å§‹ä½¿ç”¨**ï¼šä½¿ç”¨æ‚¨çš„ç¶“æ–‡èƒŒèª¦æ‡‰ç”¨
2. **åˆ†äº«çµ¦ä»–äºº**ï¼šåˆ†äº«å‰ç«¯ URL çµ¦ç”¨æˆ¶ä½¿ç”¨
3. **ç¹¼çºŒé–‹ç™¼**ï¼šæ·»åŠ æ–°åŠŸèƒ½æˆ–æ”¹é€²
4. **ç›£æ§ç¶­è­·**ï¼šå®šæœŸæª¢æŸ¥ä½¿ç”¨é‡å’Œæ€§èƒ½

## ğŸ”— é‡è¦éˆæ¥

- **Render Dashboard**: https://dashboard.render.com/
- **Vercel Dashboard**: https://vercel.com/dashboard
- **Firebase Console**: https://console.firebase.google.com/
- **GitHub å€‰åº«**: https://github.com/huazhi2407/bible-memorize

## ğŸ’¡ æç¤º

1. **å…è²»æ–¹æ¡ˆé™åˆ¶**ï¼š
   - Render å…è²»æ–¹æ¡ˆåœ¨ 15 åˆ†é˜ç„¡æ´»å‹•å¾Œæœƒä¼‘çœ 
   - é¦–æ¬¡è«‹æ±‚æœƒè¼ƒæ…¢ï¼ˆå†·å•Ÿå‹•ï¼‰
   - è€ƒæ…®å‡ç´šåˆ°ä»˜è²»æ–¹æ¡ˆä»¥ç²å¾—æ›´å¥½çš„æ€§èƒ½

2. **å®šæœŸå‚™ä»½**ï¼š
   - å®šæœŸå‚™ä»½ Firestore æ•¸æ“š
   - å‚™ä»½é‡è¦çš„éŒ„éŸ³æ–‡ä»¶

3. **ç›£æ§ä½¿ç”¨é‡**ï¼š
   - é—œæ³¨ Firebase å…è²»é¡åº¦
   - é¿å…è¶…å‡ºé™åˆ¶

4. **æ€§èƒ½å„ªåŒ–**ï¼š
   - ç›£æ§ API éŸ¿æ‡‰æ™‚é–“
   - å„ªåŒ–æ•¸æ“šåº«æŸ¥è©¢
   - å„ªåŒ–æ–‡ä»¶ä¸Šå‚³å¤§å°

## ğŸ†˜ å¦‚æœé‡åˆ°å•é¡Œ

1. **æª¢æŸ¥æ—¥èªŒ**ï¼šRenderã€Vercelã€Firebase æ—¥èªŒ
2. **æª¢æŸ¥ç’°å¢ƒè®Šé‡**ï¼šç¢ºèªæ‰€æœ‰ç’°å¢ƒè®Šé‡æ­£ç¢ºè¨­ç½®
3. **æª¢æŸ¥ç¶²çµ¡**ï¼šç¢ºèªå‰ç«¯å¯ä»¥è¨ªå•å¾Œç«¯ URL
4. **æª¢æŸ¥ CORS**ï¼šç¢ºèªå¾Œç«¯ CORS é…ç½®æ­£ç¢º
